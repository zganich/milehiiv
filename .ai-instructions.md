# AI Instructions for MileHiiv Project

## üö® CRITICAL WORKFLOW RULES

### 1. ALWAYS READ EXISTING FILES FIRST
Before suggesting ANY changes, you MUST:
- Read `.ai-knowledge-base.md` for project context
- Check existing project structure
- Verify what files already exist
- Understand current configuration

### 2. BUILD ON EXISTING WORK
- This project is NOT starting from scratch
- Many files and configurations already exist
- Only suggest what's actually missing
- Respect completed setup work

### 3. VERIFY BEFORE SUGGESTING
- Check if files exist before creating them
- Verify configurations before changing them
- Confirm dependencies before adding them
- Validate structure before modifying it

## üìã REQUIRED WORKFLOW

### Step 1: Initialization
```
AI_INIT
```
This command triggers:
1. Read `.ai-knowledge-base.md`
2. Check project structure
3. Verify existing files
4. Assess current state
5. Report accurate status

### AI Workflow Checklist for MileHiiv

#### Before Every Session:
- [ ] Read `.ai-instructions.md`
- [ ] Check project structure with `list_dir` or `glob_file_search`
- [ ] Read existing configuration files (package.json, .env files, README.md)
- [ ] Verify current state before suggesting changes

#### When User Asks About Setup:
1. **First**: Check if files already exist
2. **Second**: Read existing configuration
3. **Third**: Only suggest what's actually missing
4. **Never**: Assume we need to start over

#### File Check Order:
1. README.md (project overview)
2. package.json (dependencies)
3. .env files (configuration)
4. Existing code structure

#### Common Mistakes to Avoid:
- ‚ùå Suggesting to create files that already exist
- ‚ùå Assuming separate backend/frontend structure
- ‚ùå Not reading existing configuration first
- ‚ùå Starting from scratch when work is already done

#### Success Pattern:
- ‚úÖ Read existing files first
- ‚úÖ Build on existing work
- ‚úÖ Only suggest what's actually needed
- ‚úÖ Be efficient and respectful of previous work

## Additional MileHiiv-Specific Guidelines

### MileHiiv Project Context:
- **Single Next.js App**: This is NOT a separate frontend/backend setup
- **Vercel API Routes**: All API endpoints are serverless functions in `/api/` ‚úÖ **LIVE**
- **Supabase Database**: PostgreSQL database for data storage ‚úÖ **LIVE AND CONFIGURED**
- **Production Ready**: Environment files configured, database live, API endpoints functional
- **Complete Structure**: All files exist and are fully implemented and tested
- **Apple-Inspired Design**: Uses Liquid Glass design language with premium UX
- **Accessibility-First**: WCAG 2.1 AA compliance with screen reader support
- **Component Library**: Custom UI components in `/src/components/ui/`
- **Design System**: Comprehensive design tokens and guidelines in `DESIGN-SYSTEM.md`
- **Domain Ready**: milehiiv.com configured and ready for DNS setup

### MileHiiv File Verification Checklist: ‚úÖ **ALL COMPLETE**
- ‚úÖ Verify `milehiiv/` directory structure exists
- ‚úÖ Check `package.json` has all required dependencies
- ‚úÖ Confirm `.env.local` configured with live Supabase credentials
- ‚úÖ Validate API route structure under `src/app/api/` - **ALL 15+ ENDPOINTS LIVE**
- ‚úÖ Check pages exist (home, login, register, dashboard) - **ALL FUNCTIONAL**
- ‚úÖ Verify TypeScript and Tailwind configuration
- ‚úÖ Check UI components exist in `/src/components/ui/` - **COMPLETE LIBRARY**
- ‚úÖ Verify design system documentation in `DESIGN-SYSTEM.md`
- ‚úÖ Confirm accessibility features are implemented - **WCAG 2.1 AA COMPLIANT**
- ‚úÖ Test dark mode and reduced motion preferences
- ‚úÖ **DATABASE**: Supabase live with complete schema and RLS policies
- ‚úÖ **AUTHENTICATION**: JWT system fully functional
- ‚úÖ **DEPLOYMENT**: Vercel configured and ready for production

### Step 2: File Verification
Before making changes, verify:
- ‚úÖ What files exist in the project
- ‚úÖ Current package.json dependencies
- ‚úÖ Environment configuration status
- ‚úÖ API route structure
- ‚úÖ Component structure

### Step 3: Targeted Suggestions
Only suggest:
- Missing configurations
- Unimplemented features
- Actual gaps in setup
- Required next steps

## üö´ COMMON MISTAKES TO AVOID

### ‚ùå DON'T DO THESE:
- Suggest creating files that already exist
- Recommend setup that's already complete
- Assume project needs initial setup
- Start from scratch when work is done
- Skip reading existing files first
- Suggest separate backend/frontend setup (it's a Next.js full-stack app)

### ‚ùå WRONG ASSUMPTIONS:
- "This project needs initial setup" (it doesn't)
- "We need to create package.json" (it exists)
- "We need to set up Next.js" (it's configured)
- "We need to create API routes" (structure exists)
- "We need to create basic UI components" (design system exists)
- "We need to implement basic styling" (Apple-inspired system exists)

## ‚úÖ CORRECT APPROACH

### DO THESE:
- Read existing files first
- Build on existing setup
- Only suggest missing pieces
- Respect completed work
- Provide accurate status
- Focus on actual gaps

### VERIFICATION CHECKLIST:
- [ ] Read `.ai-knowledge-base.md`
- [ ] Check `package.json` exists and is configured
- [ ] Verify `.env.local` template exists
- [ ] Confirm API route structure
- [ ] Check existing pages
- [ ] Verify TypeScript configuration
- [ ] Confirm Tailwind setup

## üéØ PROJECT-SPECIFIC RULES

### MileHiiv Specific:
- This is a gig driver mileage tracking platform
- Uses Supabase for database
- Implements PDF processing for mileage extraction
- Has gap detection algorithms
- Follows "grandma test" UI principles
- Uses Next.js App Router architecture

### Technology Stack:
- Next.js 15.5.4 (not older versions)
- TypeScript (required)
- Tailwind CSS (styling)
- Supabase (database)
- Vercel (deployment)
- pdf-parse (PDF processing)

## üîÑ DEVELOPMENT WORKFLOW

### For New Features:
1. Read knowledge base
2. Check existing implementation
3. Identify actual gaps
4. Suggest specific improvements
5. Build on existing structure

### For Bug Fixes:
1. Read knowledge base
2. Understand current implementation
3. Identify root cause
4. Suggest targeted fixes
5. Preserve existing work

### For Setup Issues:
1. Read knowledge base
2. Verify current configuration
3. Check environment variables
4. Identify missing pieces
5. Suggest only what's needed

## üìû SUCCESS INDICATORS

You're working correctly when:
- ‚úÖ You read existing files before suggesting changes
- ‚úÖ You build on existing setup work
- ‚úÖ You only suggest what's actually missing
- ‚úÖ You respect completed configuration
- ‚úÖ You provide accurate project status
- ‚úÖ You focus on actual gaps, not assumptions

## üöÄ QUICK REFERENCE

### Project Location:
`/Users/jamesknight/milehiiv/`

### Key Files to Check:
- `package.json` - Dependencies (EXISTS)
- `.env.local` - Environment config (TEMPLATE EXISTS)
- `src/app/` - Next.js structure (EXISTS)
- `README.md` - Documentation (EXISTS)

### Commands to Use:
- `AI_INIT` - Proper initialization
- `STATUS` - Quick status check
- `DEV_MODE` - Development mode

## üìù REMEMBER

- This project is NOT starting from scratch
- Many configurations are already complete
- Only suggest what's actually missing
- Always read existing files first
- Build on existing work, don't recreate it
- Respect the completed setup

---

**Last Updated**: January 2025 - MileHiiv AI Instructions


